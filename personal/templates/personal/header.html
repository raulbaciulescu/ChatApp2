{% load static %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

<!-- Header -->
<div class="d-flex flex-column flex-lg-row p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">

	<!-- MEDIUM+ SCREENS -->
	<div class="d-none d-md-flex flex-row my-auto flex-grow-1 align-items-center">
		<h5 class="mr-3 font-weight-normal justify-content-start">
			<a class="p-2 text-dark" href="{% url 'home' %}">Home</a>
		</h5>
		<form class="search-bar justify-content-start" method="GET" action="{% url 'account:search' %}">
			<input type="text" class="form-control" name="search" id="id_q_small" placeholder="Search...">
            <input class="btn btn-primary float-right" id="button-search" type="submit" value="Go!">
		</form>

		<div class="d-flex flex-row-reverse flex-grow-1">
			<nav class="">
				{% if request.user.is_authenticated %}
                    <div class="dropdown">
                      <button class="btn dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img class="account-image rounded-circle m-auto d-block dropdown-toggle" id="id_profile_links" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" src="{{ user.profile_image.url }}" width="40" height="40">
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                          <button class="dropdown-item" type="button"><a href="{% url 'account:account' user_id=request.user.id %}">Account</a></button>
                          <button class="dropdown-item" type="button"><a href="{% url 'account:logout' %}">Log out</a></button>
                        <button class="dropdown-item" type="button">Another action</button>
                        <button class="dropdown-item" type="button">Something else here</button>
                      </div>
                    </div>


{#                    <div class="dropdown">#}
{#                        <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">#}
{#                         <img class="account-image rounded-circle m-auto d-block dropdown-toggle" id="id_profile_links" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" src="{{ user.profile_image.url }}" width="40" height="40">#}
{#                           <span class="caret"></span>#}
{#                        </button>#}
{#                        <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">#}
{#                          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Menu item 1</a></li>#}
{#                          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Menu item 2</a></li>#}
{#                          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Menu item 3</a></li>#}
{#                          <li role="presentation" class="divider"></li>#}
{#                          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Menu item 4</a></li>#}
{#                        </ul>#}
{#                    </div>#}
				{% else %}
					<a class="p-2 text-dark" href="{% url 'account:login' %}">Login</a>
					<a class="btn btn-outline-primary" href="{% url 'account:register' %}">Register</a>
				{% endif %}
			</nav>
		</div>
	</div>
	<!-- END MEDIUM+ SCREENS -->

	<!-- SMALL SCREENS -->
	<div class="d-flex d-md-none flex-column my-auto align-items-center">
		<h5 class="font-weight-normal">
		<a class="p-2 text-dark" href="{% url 'home' %}">Home</a>
		</h5>
		<form class="search-bar justify-content-start" method="GET" action="{% url 'account:search' %}">
			<input type="text" class="form-control" name="search" id="id_q_small" placeholder="Search...">
            <input class="btn btn-primary" id="button-search" type="submit" value="Go!">
		</form>
		<div class="d-flex flex-row-reverse flex-grow-1">
			<nav class="">
				{% if request.user.is_authenticated %}
				<div class="dropdown dropleft p-2 mt-2">
					<div class="d-flex flex-row">
						<div class="btn-group dropleft">
							<img class="account-image rounded-circle m-auto d-block dropdown-toggle" id="id_profile_links" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" src="{{ user.profile_image.url }}"  width="40" height="40">
							<div class="dropdown-menu" aria-labelledby="id_profile_links">
								<a class="dropdown-item" href="#">Account</a>
								<a class="dropdown-item" href="#">Logout</a>
							</div>
						</div>
					</div>
				</div>
				{% else %}
					<a class="p-2 text-dark" href="#">Login</a>
					<a class="btn btn-outline-primary m-2" href="#">Register</a>
				{% endif %}
			</nav>
	  	</div>
	</div>
	<!-- END SMALL SCREENS -->
</div>
